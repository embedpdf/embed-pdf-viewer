---
title: I18n Plugin
description: Add internationalization support to your PDF viewer with multi-language translations, dynamic parameter resolution, and document-scoped translations.
searchable: true
---

import { Callout } from '@/components/callout'

# I18n Plugin

The I18n Plugin provides comprehensive internationalization (i18n) support for your PDF viewer. It enables you to translate all UI text into multiple languages, handle dynamic parameters in translations, and manage locale changes across your application.

This plugin is essential for building PDF viewers that need to support users in different languages and regions.

## Installation

The plugin is available as a separate NPM package.

```sh npm2yarn
npm install @embedpdf/plugin-i18n
````

## Registration

Import `I18nPluginPackage` and add it to the `plugins` array. You must provide at least one locale and specify a default locale.

```typescript {4, 40-45}
import { createPluginRegistration } from '@embedpdf/core'
import { EmbedPDF } from '@embedpdf/core/svelte'
// ... other imports
import { I18nPluginPackage, type Locale } from '@embedpdf/plugin-i18n/svelte'

const englishLocale: Locale = {
  code: 'en',
  name: 'English',
  translations: {
    zoom: {
      in: 'Zoom In',
      out: 'Zoom Out',
      fitPage: 'Fit to Page',
    },
    document: {
      open: 'Open',
      close: 'Close',
    },
  },
}

const spanishLocale: Locale = {
  code: 'es',
  name: 'Español',
  translations: {
    zoom: {
      in: 'Acercar',
      out: 'Alejar',
      fitPage: 'Ajustar a la página',
    },
    document: {
      open: 'Abrir',
      close: 'Cerrar',
    },
  },
}

const plugins = [
  // ... other plugins
  createPluginRegistration(I18nPluginPackage, {
    defaultLocale: 'en',
    locales: [englishLocale, spanishLocale],
    // Optional: Specify a fallback locale if translation is missing
    fallbackLocale: 'en',
  }),
]
```

## Usage

The plugin provides stores for translating text and components for inline translations.

### Using the `useTranslations` Store

The `useTranslations` store is the primary way to translate text in your components. It automatically updates when the locale changes or when translation parameters change.

```svelte
<script lang="ts">
import { useTranslations } from '@embedpdf/plugin-i18n/svelte'

let { documentId }: { documentId: string } = $props();
const { translate, locale } = useTranslations(() => documentId);
</script>

<div>
  <button>{translate('zoom.in')}</button>
  <button>{translate('zoom.out')}</button>
  <button>{translate('zoom.fitPage')}</button>
  <span>Current locale: {locale}</span>
</div>
```

### Using the `<Translate />` Component

For simple inline translations, you can use the `<Translate />` component.

```svelte
<script lang="ts">
import { Translate } from '@embedpdf/plugin-i18n/svelte'
</script>

<div>
  <button>
    <Translate k="zoom.in" />
  </button>
  <button>
    <Translate k="zoom.out" />
  </button>
</div>
```

### Translation with Parameters

You can include dynamic parameters in your translations using `{paramName}` syntax.

```typescript
// In your locale definition
const locale: Locale = {
  code: 'en',
  name: 'English',
  translations: {
    zoom: {
      level: 'Zoom Level ({level}%)',
    },
    search: {
      resultsFound: '{count} results found',
    },
  },
}

// In your component
const { translate } = useTranslations()

translate('zoom.level', { params: { level: 150 } })
// Returns: "Zoom Level (150%)"

translate('search.resultsFound', { params: { count: 42 } })
// Returns: "42 results found"
```

### Changing Locale

Use the `useI18nCapability` store to change the locale programmatically.

```svelte
<script lang="ts">
import { useI18nCapability } from '@embedpdf/plugin-i18n/svelte'

const i18n = useI18nCapability();
const currentLocale = $derived(i18n.provides?.getLocale() ?? 'en');
const availableLocales = $derived(i18n.provides?.getAvailableLocales() ?? []);

const handleLocaleChange = (e: Event) => {
  const target = e.target as HTMLSelectElement;
  i18n.provides?.setLocale(target.value);
};
</script>

<select value={currentLocale} onchange={handleLocaleChange}>
  {#each availableLocales as code}
    <option value={code}>
      {i18n.provides?.getLocaleInfo(code)?.name ?? code}
    </option>
  {/each}
</select>
```

### Fallback Translations

If a translation key is not found, you can provide a fallback string:

```typescript
const { translate } = useTranslations()

translate('unknown.key', { fallback: 'Default Text' })
// Returns: "Default Text" if translation not found
```

## Live Example

This example demonstrates a PDF viewer with internationalization. Use the language dropdown to switch between English, Spanish, and German. Notice how all the toolbar labels update dynamically. The zoom level label also demonstrates parameter interpolation—it shows the current zoom percentage in the correct language format.

import { I18nExample } from '../../code-examples/headless/i18n-example'

<CodeExample 
  codePaths={[
    "../../examples/svelte-tailwind/src/examples/headless/i18n-example.svelte",
    "../../examples/svelte-tailwind/src/examples/headless/i18n-example-content.svelte"
  ]}
>
  <I18nExample />
</CodeExample>

## API Reference

### Configuration (`I18nPluginConfig`)

You can pass these options when registering the plugin with `createPluginRegistration`:

| Option | Type | Description |
| :--- | :--- | :--- |
| **`defaultLocale`** | `LocaleCode` | **(Required)** The locale code to use by default (e.g., `'en'`, `'es'`). |
| **`locales`** | `Locale[]` | **(Required)** An array of locale objects containing translations. |
| **`fallbackLocale`** | `LocaleCode` | **(Optional)** A locale to use as fallback when a translation is missing in the current locale. |
| **`paramResolvers`** | `ParamResolvers` | **(Optional)** An object mapping translation keys to parameter resolver functions. |

### Locale Object

| Property | Type | Description |
| :--- | :--- | :--- |
| **`code`** | `string` | The locale code (e.g., `'en'`, `'es'`, `'de'`). |
| **`name`** | `string` | The display name of the locale (e.g., `'English'`, `'Español'`). |
| **`translations`** | `TranslationDictionary` | A nested object containing all translations. Use dot notation to access (e.g., `'zoom.in'`). |

### Store: `useTranslations(documentId?)`

The primary store for translating text in components. Automatically updates when locale or parameters change.

#### Parameters

| Parameter | Type | Description |
| :--- | :--- | :--- |
| **`documentId`** | `() => string \| undefined` | **(Optional)** A getter function returning the document ID for document-scoped translations. |

#### Returns

| Property | Type | Description |
| :--- | :--- | :--- |
| **`translate`** | `(key: string, options?: TranslateOptions) => string` | Function to translate a key. |
| **`locale`** | `string` | The current locale code. |

#### `TranslateOptions`

| Property | Type | Description |
| :--- | :--- | :--- |
| **`params`** | `Record<string, string \| number>` | Parameters to interpolate into the translation (e.g., `{ level: 150 }`). |
| **`fallback`** | `string` | Fallback text if translation is not found. |

### Store: `useI18nCapability()`

Provides access to all i18n operations.

#### Returns

| Property | Type | Description |
| :--- | :--- | :--- |
| **`provides`** | `I18nCapability \| null` | An object with methods to manage i18n, or `null` if the plugin is not ready. |

#### `I18nCapability` Methods

| Method | Description |
| :--- | :--- |
| **`t(key, options?)`** | Translate a key. Supports `documentId`, `params`, and `fallback` in options. |
| **`forDocument(documentId)`** | Get a document-scoped translation API. Returns an `I18nScope` object. |
| **`setLocale(locale)`** | Change the current locale. |
| **`getLocale()`** | Get the current locale code. |
| **`getAvailableLocales()`** | Get an array of all available locale codes. |
| **`getLocaleInfo(code)`** | Get the locale object for a specific code, or `null` if not found. |
| **`registerLocale(locale)`** | Dynamically register a new locale. |
| **`hasLocale(code)`** | Check if a locale is registered. |
| **`registerParamResolver(key, resolver)`** | Register a parameter resolver for a translation key. |
| **`unregisterParamResolver(key)`** | Unregister a parameter resolver. |

### Component: `<Translate />`

A component for inline translations.

#### Props

| Prop | Type | Description |
| :--- | :--- | :--- |
| **`k`** | `string` | **(Required)** The translation key. |
| **`params`** | `Record<string, string \| number>` | **(Optional)** Parameters to interpolate. |
| **`fallback`** | `string` | **(Optional)** Fallback text if translation not found. |
| **`documentId`** | `string` | **(Optional)** Document ID for document-scoped translations. |

<Callout type="info">
Translation keys use dot notation to access nested translation objects. For example, `'zoom.in'` accesses `translations.zoom.in` in your locale definition.
</Callout>

