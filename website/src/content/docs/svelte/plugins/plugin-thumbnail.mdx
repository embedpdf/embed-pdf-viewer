---
title: Thumbnail Plugin
description: Adds a sidebar with thumbnail images for quick page navigation in Svelte, with built-in virtualization for high performance.
searchable: true
---

# Thumbnail Plugin

The Thumbnail Plugin adds a classic sidebar view with small, clickable previews of each page. It helps users orient themselves within a document and navigate quickly.

To ensure optimal performance with large documents, the plugin implements **virtualization**. It only renders the thumbnail images currently visible in the sidebar, recycling DOM elements as the user scrolls.

This plugin supports **multi-document layouts**, maintaining independent thumbnail lists, scroll positions, and render queues for every open document.

## Installation

This plugin depends on the **Render plugin** to generate the images.

```sh npm2yarn
npm install @embedpdf/plugin-thumbnail @embedpdf/plugin-render
````

## Registration

Import `ThumbnailPluginPackage` and its dependencies.

```typescript {13-15}
import { createPluginRegistration } from '@embedpdf/core'
// ... other imports
import { RenderPluginPackage } from '@embedpdf/plugin-render/svelte'
import { ThumbnailPluginPackage } from '@embedpdf/plugin-thumbnail/svelte'

const plugins = [
  // ... other essential plugins
  createPluginRegistration(DocumentManagerPluginPackage, { /* ... */ }),
  createPluginRegistration(ViewportPluginPackage),
  createPluginRegistration(RenderPluginPackage), // Required dependency

  // Register and configure the thumbnail plugin
  createPluginRegistration(ThumbnailPluginPackage, {
    width: 120, // Sets the width of thumbnail images
  }),
]
```

## Usage

The plugin provides two main components: `<ThumbnailsPane />` (the virtualized container) and `<ThumbImg />` (the actual image renderer).

### Building a Sidebar

You typically place `<ThumbnailsPane />` in a sidebar container. It uses a **snippet** pattern: you provide a template that receives metadata (`meta`) for each visible item, and you return the markup for that thumbnail.

You must provide the `documentId` to both components to link them to the correct document state.

### The `meta` Object

The `meta` object passed to your snippet contains calculated layout values. **You must apply these styles** for virtualization to work:

  * **`meta.top`**: Absolute vertical position. Apply to `top`.
  * **`meta.wrapperHeight`**: Total height of the item row. Apply to `height`.
  * **`meta.width` / `meta.height`**: Dimensions of the image itself.

```svelte
<script lang="ts">
import { useScroll } from '@embedpdf/plugin-scroll/svelte';
import { ThumbnailsPane, ThumbImg } from '@embedpdf/plugin-thumbnail/svelte';

let { documentId }: { documentId: string } = $props();
const scroll = useScroll(() => documentId);
</script>

{#snippet renderThumb(meta)}
  <div
    style:position="absolute"
    style:top="{meta.top}px"
    style:height="{meta.wrapperHeight}px"
    style:width="100%"
    onclick={() => scroll.provides?.scrollToPage({ pageNumber: meta.pageIndex + 1 })}
  >
    <div style:width="{meta.width}px" style:height="{meta.height}px">
      <ThumbImg {documentId} {meta} />
    </div>
    <span>{meta.pageIndex + 1}</span>
  </div>
{/snippet}

<div class="relative h-full overflow-hidden">
  <ThumbnailsPane {documentId} {renderThumb} />
</div>
```

## Live Example

This example shows a complete PDF viewer with a thumbnail sidebar. Notice how the sidebar automatically scrolls to track the current page in the main viewport.

import { ThumbnailExample } from '../code-examples/thumbnail-example';

<CodeExample 
  codePaths={[
    "../../examples/svelte-tailwind/src/examples/thumbnail-example.svelte",
    "../../examples/svelte-tailwind/src/examples/thumbnail-example-content.svelte"
  ]}
>
  <ThumbnailExample />
</CodeExample>

## API Reference

### Configuration (`ThumbnailPluginConfig`)

| Option | Type | Description |
| :--- | :--- | :--- |
| **`width`** | `number` | The width of the thumbnail image in CSS pixels. <br />**Default**: `120` |
| **`gap`** | `number` | The vertical space between each thumbnail in CSS pixels. <br />**Default**: `8` |
| **`buffer`** | `number` | The number of off-screen thumbnails to render above/below the viewport. <br />**Default**: `3` |
| **`labelHeight`** | `number` | Height reserved for the label below the image. <br />**Default**: `16` |
| **`autoScroll`** | `boolean` | If `true`, the sidebar scrolls to keep the current page in view. <br />**Default**: `true` |
| **`paddingY`** | `number` | Vertical padding for the thumbnail container. <br />**Default**: `0` |

### Component: `<ThumbnailsPane />`

The virtualized scroll container.

| Prop | Type | Description |
| :--- | :--- | :--- |
| **`documentId`** | `string` | **(Required)** The ID of the document to display thumbnails for. |
| **`renderThumb`** | `Snippet<ThumbMeta>` | **(Required)** A snippet that defines how to render each thumbnail. |

#### Snippet Props (`ThumbMeta`)

| Property | Type | Description |
| :--- | :--- | :--- |
| **`pageIndex`** | `number` | The zero-based index of the page. |
| **`top`** | `number` | The absolute vertical position of this thumbnail. |
| **`wrapperHeight`** | `number` | The total height of this thumbnail's container. |
| **`width`** | `number` | The calculated width of the thumbnail image. |
| **`height`** | `number` | The calculated height of the thumbnail image. |

### Component: `<ThumbImg />`

Renders the rasterized image for a thumbnail.

| Prop | Type | Description |
| :--- | :--- | :--- |
| **`documentId`** | `string` | **(Required)** The ID of the document. |
| **`meta`** | `ThumbMeta` | **(Required)** The metadata object from the `ThumbnailsPane` snippet. |

### Store: `useThumbnailCapability()`

Access the plugin API.

#### `ThumbnailCapability` Methods

| Method | Description |
| :--- | :--- |
| **`forDocument(id)`** | Returns a `ThumbnailScope` for the specified document ID. |

#### `ThumbnailScope` Methods (Returned by `forDocument`)

| Method | Description |
| :--- | :--- |
| **`scrollToThumb(pageIndex)`** | Manually scrolls the sidebar to show a specific thumbnail. |
